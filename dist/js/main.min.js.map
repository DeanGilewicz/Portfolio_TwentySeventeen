{"version":3,"sources":["main.js"],"names":["document","addEventListener","stripHash","url","slice","lastIndexOf","isInPageLink","n","tagName","toLowerCase","hash","length","href","pageUrl","goTo","target","options","end","window","scrollTo","start","distance","opt","callback","loop","time","timeElapsed","timeStart","easing","duration","requestAnimationFrame","easeInOutQuad","t","b","c","d","pageYOffset","offset","querySelector","getBoundingClientRect","top","directLinkHijacking","onClick","e","stopPropagation","preventDefault","call","querySelectorAll","filter","forEach","a","isCssSmoothSCrollSupported","documentElement","style","initSmoothScrolling","console","log","location"],"mappings":"AAAA,YAAAA,UAASC,iBAAiB,mBAAoB,WAM7C,QAASC,GAAUC,GAClB,MAAOA,GAAIC,MAAM,EAAGD,EAAIE,YAAY,MAGrC,QAASC,GAAaC,GACrB,MAAmC,MAA5BA,EAAEC,QAAQC,eAAyBF,EAAEG,KAAKC,OAAS,GAAKT,EAAUK,EAAEK,QAAUC,EAGtF,QAASC,GAAKC,EAAQC,GAarB,QAASC,KACRC,OAAOC,SAAS,EAAGC,EAAQC,GAEC,kBAAjBC,GAAIC,UACdD,EAAIC,WAKN,QAASC,GAAKC,GACbC,EAAcD,EAAOE,EAErBT,OAAOC,SAAS,EAAGG,EAAIM,OAAOF,EAAaN,EAAOC,EAAUQ,IAExDH,EAAcG,EACjBC,sBAAsBN,GAEtBP,IAWF,QAASc,GAAcC,EAAGC,EAAGC,EAAGC,GAE/B,MADAH,IAAKG,EAAI,EACLH,EAAI,EAAWE,EAAI,EAAIF,EAAIA,EAAIC,GACnCD,KACQE,EAAI,GAAKF,GAAKA,EAAI,GAAK,GAAKC,GA5CrC,GASCN,GACAD,EAVGN,EAAQF,OAAOkB,YAClBd,GACCO,SAAUb,EAAQa,SAClBQ,OAAQrB,EAAQqB,QAAU,EAC1Bd,SAAUP,EAAQO,SAClBK,OAAQZ,EAAQY,QAAUG,GAE3BV,EAA6B,gBAAXN,GAAsBO,EAAIe,OAASrC,SAASsC,cAAcvB,GAAQwB,wBAAwBC,IAAMzB,EAClHc,EAAmC,kBAAjBP,GAAIO,SAA0BP,EAAIO,SAASR,GAAYC,EAAIO,QA0B9EC,uBAAsB,SAASL,GAC9BE,EAAYF,EACZD,EAAKC,KAaP,QAASgB,KAER,QAASC,GAAQC,GAChBA,EAAEC,kBACFD,EAAEE,iBAEF/B,EAAK6B,EAAE5B,OAAOL,MACbmB,SAAUA,OAITzB,MAAM0C,KAAK9C,SAAS+C,iBAAiB,MACtCC,OAAO1C,GACP2C,QAAQ,SAASC,GACjBA,EAAEjD,iBAAiB,QAASyC,GAAS,KAoCxC,QAASS,KACR,MAAO,kBAAoBnD,UAASoD,gBAAgBC,MAGrD,QAASC,KAER,MAAIH,SACHI,SAAQC,IAAI,iBAMbf,KA5HD,GAAIZ,GAAW,IACXhB,EAAU4C,SAAS/C,KAAOR,EAAUuD,SAAS7C,MAAQ6C,SAAS7C,IAgIlE0C","file":"main.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\n\t\"use strict\";\n\n\tvar duration = 400;\n\tvar pageUrl = location.hash ? stripHash(location.href) : location.href;\n\n\tfunction stripHash(url) {\n\t\treturn url.slice(0, url.lastIndexOf('#'));\n\t}\n\n\tfunction isInPageLink(n) {\n\t\treturn n.tagName.toLowerCase() === 'a' && n.hash.length > 0 && stripHash(n.href) === pageUrl;\n\t}\n\n\tfunction goTo(target, options) {\n\t\tvar start = window.pageYOffset,\n\t\t\topt = {\n\t\t\t\tduration: options.duration,\n\t\t\t\toffset: options.offset || 0,\n\t\t\t\tcallback: options.callback,\n\t\t\t\teasing: options.easing || easeInOutQuad\n\t\t\t},\n\t\t\tdistance = typeof target === 'string' ? opt.offset + document.querySelector(target).getBoundingClientRect().top : target,\n\t\t\tduration = typeof opt.duration === 'function' ? opt.duration(distance) : opt.duration,\n\t\t\ttimeStart,\n\t\t\ttimeElapsed;\n\n\t\tfunction end() {\n\t\t\twindow.scrollTo(0, start + distance);\n\t\t\t\n\t\t\tif( typeof opt.callback === 'function' ) {\n\t\t\t\topt.callback();\n\t\t\t}\n\t\t}\n\n\n\t\tfunction loop(time) {\n\t\t\ttimeElapsed = time - timeStart;\n\n\t\t\twindow.scrollTo(0, opt.easing(timeElapsed, start, distance, duration));\n\n\t\t\tif( timeElapsed < duration ) {\n\t\t\t\trequestAnimationFrame(loop);\n\t\t\t} else {\n\t\t\t\tend();\n\t\t\t}\n\n\t\t}\n\n\t\trequestAnimationFrame(function(time) {\n\t\t\ttimeStart = time;\n\t\t\tloop(time);\n\t\t});\n\n\t\t// Robert Penner's easeInOutQuad - http://robertpenner.com/easing/\n\t\tfunction easeInOutQuad(t, b, c, d) {\n\t\t\tt /= d / 2;\n\t\t\tif( t < 1 ) return c / 2 * t * t + b;\n\t\t\tt--;\n\t\t\treturn -c / 2 * (t * (t - 2) - 1) + b;\n\t\t}\n\n\t}\n\n\tfunction directLinkHijacking() {\n\n\t\tfunction onClick(e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tgoTo(e.target.hash, {\n\t\t\t\tduration: duration,\n\t\t\t});\n\t\t}\n\n\t\t[].slice.call(document.querySelectorAll('a'))\n\t\t\t.filter(isInPageLink)\n\t\t\t.forEach(function(a) {\n\t\t\t\ta.addEventListener('click', onClick, false);\n\t\t\t});\n\n\t}\n\n\t// function setFocus(hash) {\n\t// \tvar element = document.getElementById(hash.substring(1));\n\n\t// \tif( element ) {\n\t// \t\tif (!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)) {\n\t// \t\t\telement.tabIndex = -1;\n\t// \t\t}\n\n\t// \t\telement.focus();\n\t// \t}\n\t// }\n\n\t// function delegatedLinkHijacking() {\n\t// \tdocument.body.addEventListener('click', onClick, false);\n\n\t// \tfunction onClick(e) {\n\t// \t\tif( !isInPageLink(e.target) ) return;\n\n\t// \t\te.stopPropagation();\n\t// \t\te.preventDefault();\n\n\t// \t\tgoTo(e.target.hash, {\n\t// \t\t\tduration: duration,\n\t// \t\t\tcallback: function() {\n\t// \t\t\t\tsetFocus(e.target.hash);\n\t// \t\t\t}\n\t// \t\t});\n\t// \t}\n\n\t// }\n\n\tfunction isCssSmoothSCrollSupported() {\n\t\treturn 'scrollBehavior' in document.documentElement.style;\n\t}\n\n\tfunction initSmoothScrolling() {\n  \n\t\tif( isCssSmoothSCrollSupported() ) {\n\t\t\tconsole.log('supported');\n\t\t\t// document.getElementById('js-smooth-scroll').className = 'smoothScrollSupported';\n\t\t\treturn;\n\t\t}\n\n\t\t// delegatedLinkHijacking();\n\t\tdirectLinkHijacking();\n\n\t}\n\n\n\tinitSmoothScrolling();\n\n});\n\n\n"]}